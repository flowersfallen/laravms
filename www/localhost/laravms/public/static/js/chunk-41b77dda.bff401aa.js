(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-41b77dda"],{"093a":function(t,e,n){"use strict";n.d(e,"e",(function(){return a})),n.d(e,"c",(function(){return l})),n.d(e,"d",(function(){return o})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return r}));var i=n("b775");function a(t){return Object(i["a"])({url:"/admin/video/listVideo",method:"get",params:t})}function l(t){return Object(i["a"])({url:"/admin/video/listClip",method:"get",params:t})}function o(t){return Object(i["a"])({url:"/admin/video/listCombine",method:"get",params:t})}function s(t){return Object(i["a"])({url:"/admin/video/clipVideo",method:"post",data:t})}function r(t){return Object(i["a"])({url:"/admin/video/combineClip",method:"get",params:t})}},1:function(t,e){},"562d":function(t,e,n){},aad2:function(t,e,n){"use strict";n("562d")},fe27:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("video-player",{ref:"video-player",attrs:{options:t.videoOptions},on:{syncPoint:t.syncPoint}}),n("div",{staticStyle:{"padding-top":"20px"}},[n("el-form",[n("el-form-item",[n("el-col",{attrs:{span:2}},[n("el-input",{attrs:{placeholder:"入点"},model:{value:t.pointIn,callback:function(e){t.pointIn=e},expression:"pointIn"}})],1),n("el-col",{staticStyle:{"text-align":"center"},attrs:{span:1}},[t._v(" - ")]),n("el-col",{attrs:{span:2}},[n("el-input",{attrs:{placeholder:"出点"},model:{value:t.pointOut,callback:function(e){t.pointOut=e},expression:"pointOut"}})],1),n("el-col",{staticStyle:{"text-align":"center"},attrs:{span:1}},[t._v(" - ")]),n("el-col",{attrs:{span:4}},[n("el-input",{attrs:{placeholder:"标签,多个用英文逗号分隔"},model:{value:t.clipTags,callback:function(e){t.clipTags=e},expression:"clipTags"}})],1),n("el-col",{staticStyle:{"text-align":"center"},attrs:{span:1}},[t._v(" - ")]),n("el-col",{attrs:{span:10}},[n("el-input",{attrs:{placeholder:"标题"},model:{value:t.clipTitle,callback:function(e){t.clipTitle=e},expression:"clipTitle"}})],1),n("el-col",{staticStyle:{"text-align":"center"},attrs:{span:1}},[t._v(" - ")]),n("el-col",{attrs:{span:2}},[n("el-button",{staticStyle:{width:"100%"},on:{click:function(e){return t.addClip()}}},[t._v("拆条")])],1)],1)],1)],1)],1)},a=[],l=n("093a"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("video",{ref:"videoPlayer",staticClass:"video-js"})])},s=[],r=n("f0e2"),c=n("2eee"),u={name:"VideoPlayer",props:{options:{type:Object,default:function(){return{}}}},data:function(){return{player:null}},mounted:function(){var t=this,e=this;r["a"].addLanguage("zh-CN",c),this.player=Object(r["a"])(this.$refs.videoPlayer,this.options,(function(){t.player.log("onPlayerReady",t)}));this.player.getChild("ControlBar").addChild("button",{controlText:"入点",className:"vjs-visible-text",clickHandler:function(t){this.player_.pause(),e.$emit("syncPoint",0,Math.floor(this.player_.currentTime()))}}),this.player.getChild("ControlBar").addChild("button",{controlText:"出点",className:"vjs-visible-text",clickHandler:function(t){this.player_.pause(),e.$emit("syncPoint",1,Math.floor(this.player_.currentTime()))}})},beforeDestroy:function(){this.player&&this.player.dispose()}},p=u,d=n("2877"),h=Object(d["a"])(p,o,s,!1,null,null,null),f=h.exports,m=(n("fda2"),{components:{VideoPlayer:f},data:function(){return{videoOptions:{autoplay:!1,controls:!0,sources:[{src:this.$route.params.url}],controlBar:{playToggle:!1,volumePanel:{inline:!1},remainingTimeDisplay:!1,fullscreenToggle:!1,pictureInPictureToggle:!1}},pointIn:"",pointOut:"",clipTitle:this.$route.params.title,clipTags:this.$route.params.tags,uploadId:this.$route.params.upload_id}},methods:{syncPoint:function(t,e){0===t?this.pointIn=e:this.pointOut=e},addClip:function(){var t=this;if(""!==this.pointIn&&""!==this.pointOut&&""!==this.clipTitle){var e={in:parseInt(this.pointIn),out:parseInt(this.pointOut),title:this.clipTitle,tags:this.clipTags,upload_id:this.uploadId};Object(l["a"])(e).then((function(e){e.state?t.$message.success("请求成功"):t.$message.error("请求失败")})).catch((function(t){console.log(t)}))}else this.$message.warning("参数错误")}}}),v=m,y=(n("aad2"),Object(d["a"])(v,i,a,!1,null,null,null));e["default"]=y.exports}}]);